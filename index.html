<script src='christmastree.js'></script>
<script>
function render(){
  canvas=document.createElement('canvas')
  size=1024
  canvas.width=canvas.height=size
  canvas.style.width=canvas.style.height=800
  g=canvas.getContext('2d')
  document.body.appendChild(canvas)
  g.clearRect(0,0,size,size)
  function calc2x(x,y){
    return (christmastree(x-0.5/size,y-0.5/size)+christmastree(x-0.5/size,y+0.5/size)+christmastree(x+0.5/size,y-0.5/size)+christmastree(x+0.5/size,y+0.5/size))/4
  }
  function calc1x(x,y){return christmastree(x,y)}
  for(i=0;i<size;i++){
    for(j=0;j<size;j++){
      x=2*(i+0.5)/size-1
      y=1-2*(j+0.5)/size+0.9
      g.globalAlpha=calc2x(x,y)
      g.fillRect(i,j,1,1)
    }
  }
}
onload=render
</script>
